{"ts":1368200128190,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var App = {}\n$(function() {\n\t$('.bar').css({'width':'50%'})\n\n\tApp.go()\n\n\t$('.bar').css({'width':'100%'})\n\n\tsetTimeout(function(){\n        $('.overlay').fadeOut(100)\n\t},500)\n\n    MathJax.Hub.Register.StartupHook(\"End\",function () {\n            $(\".output-show\").hide()\n            $(\".output-hide\").fadeIn()\n    });\n\n});\n\nApp.go = function(){\n\t$.fn.quickdiff(\"filter\", \"mathSpanInline\",\n        function (node) {\n            return (node.nodeName === \"SPAN\" && $(node).hasClass(\"mathInline\"));\n        },\n        function (a, b) {\n            var aHTML = $.trim($(\"script\", a).html()), bHTML = $.trim($(b).html());\n            return (\"%%\" + aHTML + \"%%\") !== bHTML;\n        }\n    );\n\n    // // Setup a filter for comparing math spans.\n    $.fn.quickdiff(\"filter\", \"mathSpan\",\n        function (node) {\n            return (node.nodeName === \"SPAN\" && $(node).hasClass(\"math\"));\n        },\n        function (a, b) {\n            var aHTML = $.trim($(\"script\", a).html()), bHTML = $.trim($(b).html());\n            return (\"$$\" + aHTML + \"$$\") !== bHTML;\n        }\n    );\n\n    $.fn.quickdiff(\"attributes\", {\n        \"td\" : [\"align\"],\n        \"th\" : [\"align\"],\n        \"img\" : [\"src\", \"alt\", \"title\"],\n        \"a\" : [\"href\", \"title\"]\n    });\n\n    var initString = '## [Cheetah.io](http://cheetah.io) demo.\\n\\n'+\n        '> Sign up for the beta [here](http://cheetah.io). \\n\\n'+\n        'You can write LaTex and markdown. To use latex just surround your math in dollar signs. Single dollar sign for inline math and double ``$$`` for centered math.\\n\\n'+\n        '**For example:**\\n\\n'+\n        '$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac} }{2a}$$\\n\\n'+\n        'Your document is saved to localStorage.\\n\\n'+\n        '__Check out the code for this demo on [Github](http://github.com/eoinmurray/rontgen).__'\n        ;\n\n    if(typeof localStorage.editor === \"undefined\" ) localStorage.editor = initString;\n    if(localStorage.editor === \"\" ) localStorage.editor = initString;\n    var redrawNeeded = false, preproc, renderDelay = 0, timer, content = \"\";\n    var markdown = new Showdown.converter();\n\n    $.extend(markdown.config, {\n        stripHTML: true,\n        tables: true,\n        math: true,\n        figures: true\n    });\n\n    var setRenderDelay = function (rendertime) {\n        if (rendertime > 50) {\n            renderDelay = 400;\n        } else if (rendertime > 10) {\n            renderDelay = 50;\n        }\n    };\n\n    // Redraws the output using the content of the input.\n    var redraw = function () {\n        if (!redrawNeeded) {\n            return;\n        } else {\n            redrawNeeded = false;\n        }\n\n        var startTime = (new Date()).getTime();\n        var data = editor.getSession().getValue();\n        // var temp = data.split('$$')\n        // for(var i = 0; i < temp.length; i++){\n        //     temp[i] = temp[i].split('$').join('%%')\n        // }\n        // data = temp.join('$$')\n        data = data.replace(/\\$+/g, function(match) {\n            return match.length === 1 ? '%%' : match;\n        });\n        localStorage.editor = editor.getSession().getValue()\n        preproc = $(\"<div></div>\").html(markdown.makeHtml(data));\n        var patch = $(\"#output > div\").quickdiff(\"patch\", preproc, [\"mathSpan\", \"mathSpanInline\"]);\n\n        if (patch.type !== \"identical\" && patch.replace.length > 0) {\n            $.each(patch.replace, function (i, el) {\n                if (el.innerHTML) {\n                    console.log(true)\n                    MathJax.Hub.Typeset(el, function () {\n                        setRenderDelay((new Date()).getTime() - startTime);\n                    });\n                } else if (el.tagName && el.tagName.toLowerCase() === 'img') {\n                    // size_image(el);\n                } else {\n                    setRenderDelay((new Date()).getTime() - startTime);\n                }\n            });\n        } else {\n            setRenderDelay((new Date()).getTime() - startTime);\n        }\n    };\n\n    var suppress_redraw = false;\n    var refreshModified = function() {\n        if (suppress_redraw) return;\n        redrawNeeded = true;\n        modified = editor.getSession().getValue() !== content;\n\n        if (timer) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(redraw, renderDelay);\n    }\n\n    var editor = ace.edit('editor');\n    editor.getSession().setUseWrapMode(true);\n    editor.setHighlightActiveLine(false);\n    editor.renderer.setShowGutter(false);\n\teditor.getSession().on('change', refreshModified);\n    if(localStorage.editor) editor.getSession().setValue(localStorage.editor)\n}\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":4574}]],"length":4574}
{"contributors":[],"silentsave":false,"ts":1368200109224,"patch":[[{"diffs":[[0,"p = "],[-1,"{}"],[1,"App || {};\nvar MathJax = MathJax || {};\n"],[0,"\n$(f"]],"start1":6,"start2":6,"length1":10,"length2":48}]],"length":4612,"saved":false}
{"ts":1368200709066,"patch":[[{"diffs":[[0,"]);\n\n       "],[1," //"],[0," if (patch.t"]],"start1":3281,"start2":3281,"length1":24,"length2":27},{"diffs":[[0,"0) {\n       "],[1," //"],[0,"     $.each("]],"start1":3354,"start2":3354,"length1":24,"length2":27},{"diffs":[[0,"i, el) {\n       "],[1," //"],[0,"         if (el."]],"start1":3406,"start2":3406,"length1":32,"length2":35},{"diffs":[[0,"rHTML) {\n       "],[1," //"],[0,"             con"]],"start1":3445,"start2":3445,"length1":32,"length2":35},{"diffs":[[0,"og(true)\n       "],[1," //"],[0,"             Mat"]],"start1":3486,"start2":3486,"length1":32,"length2":35},{"diffs":[[0,"ion () {\n       "],[1," //"],[0,"                "]],"start1":3547,"start2":3547,"length1":32,"length2":35},{"diffs":[[0,"rtTime);\n       "],[1," //"],[0,"             });"]],"start1":3626,"start2":3626,"length1":32,"length2":35},{"diffs":[[0,"     });\n       "],[1," //"],[0,"         } else "]],"start1":3653,"start2":3653,"length1":32,"length2":35},{"diffs":[[0,"'img') {\n       "],[1," //"],[0,"             // "]],"start1":3735,"start2":3735,"length1":32,"length2":35},{"diffs":[[0,"age(el);\n       "],[1," //"],[0,"         } else "]],"start1":3777,"start2":3777,"length1":32,"length2":35},{"diffs":[[0,"} else {\n       "],[1," //"],[0,"             set"]],"start1":3805,"start2":3805,"length1":32,"length2":35},{"diffs":[[0,"me);\n       "],[1," //"],[0,"         }\n "]],"start1":3884,"start2":3884,"length1":24,"length2":27},{"diffs":[[0,"   }\n       "],[1," //"],[0,"     });\n   "]],"start1":3905,"start2":3905,"length1":24,"length2":27},{"diffs":[[0,"     });\n       "],[1," //"],[0," } else {\n      "]],"start1":3920,"start2":3920,"length1":32,"length2":35},{"diffs":[[0,"se {\n       "],[1," //"],[0,"     setRend"]],"start1":3944,"start2":3944,"length1":24,"length2":27},{"diffs":[[0,"rtTime);\n       "],[1," //"],[0," }\n    };\n\n    v"]],"start1":4007,"start2":4007,"length1":32,"length2":35}]],"length":4660,"saved":false}
{"ts":1368200760360,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," if (pat"]],"start1":3285,"start2":3285,"length1":19,"length2":16},{"diffs":[[0,"0) {\n       "],[-1," //"],[0,"     $.each("]],"start1":3351,"start2":3351,"length1":27,"length2":24},{"diffs":[[0,"i, el) {\n       "],[-1," //"],[0,"         if (el."]],"start1":3400,"start2":3400,"length1":35,"length2":32},{"diffs":[[0,"rHTML) {\n       "],[-1," //"],[0,"             con"]],"start1":3436,"start2":3436,"length1":35,"length2":32},{"diffs":[[0,"og(true)\n       "],[-1," //"],[0,"             Mat"]],"start1":3474,"start2":3474,"length1":35,"length2":32},{"diffs":[[0,"ion () {\n       "],[-1," //"],[0,"                "]],"start1":3532,"start2":3532,"length1":35,"length2":32},{"diffs":[[0,"rtTime);\n       "],[-1," //"],[0,"             });"]],"start1":3608,"start2":3608,"length1":35,"length2":32},{"diffs":[[0,"     });\n       "],[-1," //"],[0,"         } else "]],"start1":3632,"start2":3632,"length1":35,"length2":32},{"diffs":[[0,"'img') {\n       "],[-1," //"],[0,"             // "]],"start1":3711,"start2":3711,"length1":35,"length2":32},{"diffs":[[0,"age(el);\n       "],[-1," //"],[0,"         } else "]],"start1":3750,"start2":3750,"length1":35,"length2":32},{"diffs":[[0,"} else {\n       "],[-1," //"],[0,"             set"]],"start1":3775,"start2":3775,"length1":35,"length2":32},{"diffs":[[0,"me);\n       "],[-1," //"],[0,"         }\n "]],"start1":3851,"start2":3851,"length1":27,"length2":24},{"diffs":[[0,"   }\n       "],[-1," //"],[0,"     });\n   "]],"start1":3869,"start2":3869,"length1":27,"length2":24},{"diffs":[[0,"\n       "],[-1," //"],[0," } else "]],"start1":3889,"start2":3889,"length1":19,"length2":16},{"diffs":[[0,"se {\n       "],[-1," //"],[0,"     setRend"]],"start1":3902,"start2":3902,"length1":27,"length2":24},{"diffs":[[0,"me);\n       "],[-1," //"],[0," }\n    };\n\n "]],"start1":3966,"start2":3966,"length1":27,"length2":24}]],"length":4612,"saved":false}
{"ts":1368200772399,"patch":[[{"diffs":[[0,"]);\n\n       "],[1," //"],[0," if (patch.t"]],"start1":3281,"start2":3281,"length1":24,"length2":27},{"diffs":[[0,"0) {\n       "],[1," //"],[0,"     $.each("]],"start1":3354,"start2":3354,"length1":24,"length2":27},{"diffs":[[0,"i, el) {\n       "],[1," //"],[0,"         if (el."]],"start1":3406,"start2":3406,"length1":32,"length2":35},{"diffs":[[0,"rHTML) {\n       "],[1," //"],[0,"             con"]],"start1":3445,"start2":3445,"length1":32,"length2":35},{"diffs":[[0,"og(true)\n       "],[1," //"],[0,"             Mat"]],"start1":3486,"start2":3486,"length1":32,"length2":35},{"diffs":[[0,"ion () {\n       "],[1," //"],[0,"                "]],"start1":3547,"start2":3547,"length1":32,"length2":35},{"diffs":[[0,"rtTime);\n       "],[1," //"],[0,"             });"]],"start1":3626,"start2":3626,"length1":32,"length2":35},{"diffs":[[0,"     });\n       "],[1," //"],[0,"         } else "]],"start1":3653,"start2":3653,"length1":32,"length2":35},{"diffs":[[0,"'img') {\n       "],[1," //"],[0,"             // "]],"start1":3735,"start2":3735,"length1":32,"length2":35},{"diffs":[[0,"age(el);\n       "],[1," //"],[0,"         } else "]],"start1":3777,"start2":3777,"length1":32,"length2":35},{"diffs":[[0,"} else {\n       "],[1," //"],[0,"             set"]],"start1":3805,"start2":3805,"length1":32,"length2":35},{"diffs":[[0,"me);\n       "],[1," //"],[0,"         }\n "]],"start1":3884,"start2":3884,"length1":24,"length2":27},{"diffs":[[0,"   }\n       "],[1," //"],[0,"     });\n   "]],"start1":3905,"start2":3905,"length1":24,"length2":27},{"diffs":[[0,"     });\n       "],[1," //"],[0," } else {\n      "]],"start1":3920,"start2":3920,"length1":32,"length2":35},{"diffs":[[0,"se {\n       "],[1," //"],[0,"     setRend"]],"start1":3944,"start2":3944,"length1":24,"length2":27},{"diffs":[[0,"rtTime);\n       "],[1," //"],[0," }\n    };\n\n    v"]],"start1":4007,"start2":4007,"length1":32,"length2":35}]],"length":4660,"saved":false}
{"ts":1368200799609,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," if (pat"]],"start1":3285,"start2":3285,"length1":19,"length2":16},{"diffs":[[0,"0) {\n       "],[-1," //"],[0,"     $.each("]],"start1":3351,"start2":3351,"length1":27,"length2":24},{"diffs":[[0,"i, el) {\n       "],[-1," //"],[0,"         if (el."]],"start1":3400,"start2":3400,"length1":35,"length2":32},{"diffs":[[0,"rHTML) {\n       "],[-1," //"],[0,"             con"]],"start1":3436,"start2":3436,"length1":35,"length2":32},{"diffs":[[0,"og(true)\n       "],[-1," //"],[0,"             Mat"]],"start1":3474,"start2":3474,"length1":35,"length2":32},{"diffs":[[0,"on () {\n        "],[-1,"//"],[0,"                "]],"start1":3533,"start2":3533,"length1":34,"length2":32},{"diffs":[[0,"                "],[1,"//"],[0," setRenderDelay("]],"start1":3549,"start2":3549,"length1":32,"length2":34},{"diffs":[[0,"rtTime);\n       "],[-1," //"],[0,"             });"]],"start1":3611,"start2":3611,"length1":35,"length2":32},{"diffs":[[0,"     });\n       "],[-1," //"],[0,"         } else "]],"start1":3635,"start2":3635,"length1":35,"length2":32},{"diffs":[[0,"'img') {\n       "],[-1," //"],[0,"             // "]],"start1":3714,"start2":3714,"length1":35,"length2":32},{"diffs":[[0,"age(el);\n       "],[-1," //"],[0,"         } else "]],"start1":3753,"start2":3753,"length1":35,"length2":32},{"diffs":[[0," else {\n        "],[-1,"//"],[0,"             set"]],"start1":3779,"start2":3779,"length1":34,"length2":32},{"diffs":[[0,"            "],[1,"//"],[0," setRenderDe"]],"start1":3795,"start2":3795,"length1":24,"length2":26},{"diffs":[[0,"me);\n       "],[-1," //"],[0,"         }\n "]],"start1":3857,"start2":3857,"length1":27,"length2":24},{"diffs":[[0,"   }\n       "],[-1," //"],[0,"     });\n   "]],"start1":3875,"start2":3875,"length1":27,"length2":24},{"diffs":[[0,"\n       "],[-1," //"],[0," } else "]],"start1":3895,"start2":3895,"length1":19,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[1,"//"],[0," setRend"]],"start1":3913,"start2":3913,"length1":22,"length2":22},{"diffs":[[0,"me);\n       "],[-1," //"],[0," }\n    };\n\n "]],"start1":3975,"start2":3975,"length1":27,"length2":24}]],"length":4621,"saved":false}
{"ts":1368200944202,"patch":[[{"diffs":[[0,"() {"],[-1,"\n                        // setRenderDelay((new Date()).getTime() - startTime);\n                    "],[0,"});\n"]],"start1":3536,"start2":3536,"length1":108,"length2":8},{"diffs":[[0,"    "],[-1,"            // size_image(el);"],[0,"\n   "]],"start1":3627,"start2":3627,"length1":38,"length2":8},{"diffs":[[0,"    "],[-1,"            // setRenderDelay((new Date()).getTime() - startTime);"],[0,"\n   "]],"start1":3661,"start2":3661,"length1":74,"length2":8},{"diffs":[[0,"    "],[-1,"    // setRenderDelay((new Date()).getTime() - startTime);"],[0,"\n   "]],"start1":3721,"start2":3721,"length1":66,"length2":8}]],"length":4367,"saved":false}
{"ts":1368200954938,"patch":[[{"diffs":[[0,"') {"],[-1,"\n        \n                } else {\n        \n                "],[1,"} else {"],[0,"}\n  "]],"start1":3618,"start2":3618,"length1":68,"length2":16}]],"length":4315,"saved":false}
{"ts":1368200959114,"patch":[[{"diffs":[[0,"   }"],[-1," else if (el.tagName && el.tagName.toLowerCase() === 'img') {} else {}"],[0,"\n   "]],"start1":3557,"start2":3557,"length1":78,"length2":8}]],"length":4245,"saved":false}
{"ts":1368200964208,"patch":[[{"diffs":[[0,") {\n"],[-1,"                    console.log(true)\n"],[0,"    "]],"start1":3441,"start2":3441,"length1":46,"length2":8}]],"length":4207,"saved":false}
{"ts":1368200979156,"patch":[[{"diffs":[[0,"    "],[-1,"    // var temp = data.split('$$')\n        // for(var i = 0; i < temp.length; i++){\n        //     temp[i] = temp[i].split('$').join('%%')\n        // }\n        // data = temp.join('$$')"],[0,"\n   "]],"start1":2748,"start2":2748,"length1":193,"length2":8}]],"length":4022,"saved":false}
{"ts":1368200992272,"patch":[[{"diffs":[[0,");\n\n"],[-1,"    var setRenderDelay = function (rendertime) {\n        if (rendertime > 50) {\n            renderDelay = 400;\n        } else if (rendertime > 10) {\n            renderDelay = 50;\n        }\n    };\n\n"],[0,"    "]],"start1":2248,"start2":2248,"length1":205,"length2":8}]],"length":3825,"saved":false}
{"ts":1368201207649,"patch":[[{"diffs":[[0,"ontent;\n"],[-1,"\n"],[0,"        "]],"start1":3395,"start2":3395,"length1":17,"length2":16}]],"length":3824,"saved":false}
